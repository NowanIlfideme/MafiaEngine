&id001 !GameEngine
entity: !EntityManager
  engine: *id001
  members:
  - &id003 !TestMod
    engine: *id001
    members: []
    name: Moderator
    phase_iter: !PhaseIterator
      current: 0
      engine: *id001
      name: ''
      phases: [day, night]
      repeat: true
    status: {}
    vote_tally: &id005 !VoteTally
      engine: *id001
      name: ''
      voted: {}
      votes: {}
  - &id011 !Alignment
    engine: *id001
    members:
    - &id007 !Player
      engine: *id001
      members:
      - !VoteAbility
        engine: *id001
        name: vote
        restrictions:
        - !PhaseRestriction
          engine: *id001
          mode: allow
          name: phase_r
          phases: [day]
        - !TargetRestriction
          engine: *id001
          mode: allow
          name: target_r
          target_types:
          - &id006 !Actor
            engine: *id001
            members: []
            name: ''
            status: {}
      name: Townie0
      status: {}
    name: Town
    status: {}
  - &id002 !MafiaAlignment
    engine: *id001
    members:
    - &id010 !Player
      engine: *id001
      members:
      - !VoteAbility
        engine: *id001
        name: vote
        restrictions:
        - !PhaseRestriction
          engine: *id001
          mode: allow
          name: phase_r
          phases: [day]
        - !TargetRestriction
          engine: *id001
          mode: allow
          name: target_r
          target_types:
          - &id008 !Actor
            engine: *id001
            members: []
            name: ''
            status: {}
      - !MKillAbility
        engine: *id001
        name: mkill
        restrictions:
        - &id004 !MKillPhaseRestriction
          alignment: *id002
          engine: *id001
          mode: allow
          name: mkill_phase_r
          phases: [night]
        - !TargetRestriction
          engine: *id001
          mode: allow
          name: target_r
          target_types:
          - &id009 !Actor
            engine: *id001
            members: []
            name: ''
            status: {}
      name: Mafioso0
      status: {}
    name: Mafia
    status: {}
  name: all_entities
  status: {}
event: !EventManager
  history: !HistoryManager {}
  listeners:
    ? !VoteEvent {actor: null, target: null}
    : - *id003
    ? !MKillEvent {actor: null, target: null}
    : - *id003
      - *id004
    ? !PhaseChangeEvent {current: null, previous: null}
    : - *id003
      - *id005
      - *id002
      - *id004
    ? !DeathEvent {target: null}
    : - *id003
      - *id006
      - *id007
      - *id008
      - *id009
      - *id010
      - !GameObject
        alignment: *id002
        eliminated: false
        engine: *id001
        name: mafia_checker
        output_event_type: !AlignmentEliminatedEvent {alignment: null}
        update_on:
        - !DeathEvent {target: null}
      - !GameObject
        alignment: *id011
        eliminated: false
        engine: *id001
        name: town_checker
        output_event_type: !AlignmentEliminatedEvent {alignment: null}
        update_on:
        - !DeathEvent {target: null}
    ? !AlignmentEliminatedEvent {alignment: null}
    : - *id003
status: {phase: null}
