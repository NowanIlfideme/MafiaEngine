&id001 !GameEngine
entity: !EntityManager
  engine: *id001
  members:
  - &id003 !TestMod
    engine: *id001
    members: []
    name: Moderator
    phase_iter: !PhaseIterator
      current: 2
      engine: *id001
      name: ''
      phases: [day, night]
      repeat: true
    status: {}
    vote_tally: &id006 !VoteTally
      engine: *id001
      name: ''
      voted: {}
      votes: {}
  - &id023 !Alignment
    engine: *id001
    members:
    - &id008 !Player
      engine: *id001
      members:
      - !VoteAbility
        engine: *id001
        name: vote
        restrictions:
        - !PhaseRestriction
          engine: *id001
          mode: allow
          name: phase_r
          phases: [day]
        - !TargetRestriction
          engine: *id001
          mode: allow
          name: ''
          target_types:
          - &id007 !Actor
            engine: *id001
            members: []
            name: ''
            status: {}
      name: Townie0
      status: {}
    - &id010 !Player
      engine: *id001
      members:
      - !VoteAbility
        engine: *id001
        name: vote
        restrictions:
        - !PhaseRestriction
          engine: *id001
          mode: allow
          name: phase_r
          phases: [day]
        - !TargetRestriction
          engine: *id001
          mode: allow
          name: ''
          target_types:
          - &id009 !Actor
            engine: *id001
            members: []
            name: ''
            status: {}
      name: Townie1
      status: {}
    - &id012 !Player
      engine: *id001
      members:
      - !VoteAbility
        engine: *id001
        name: vote
        restrictions:
        - !PhaseRestriction
          engine: *id001
          mode: allow
          name: phase_r
          phases: [day]
        - !TargetRestriction
          engine: *id001
          mode: allow
          name: ''
          target_types:
          - &id011 !Actor
            engine: *id001
            members: []
            name: ''
            status: {}
      name: Townie2
      status: {}
    - &id014 !Player
      engine: *id001
      members:
      - !VoteAbility
        engine: *id001
        name: vote
        restrictions:
        - !PhaseRestriction
          engine: *id001
          mode: allow
          name: phase_r
          phases: [day]
        - !TargetRestriction
          engine: *id001
          mode: allow
          name: ''
          target_types:
          - &id013 !Actor
            engine: *id001
            members: []
            name: ''
            status: {}
      name: Townie3
      status: {}
    - &id016 !Player
      engine: *id001
      members:
      - !VoteAbility
        engine: *id001
        name: vote
        restrictions:
        - !PhaseRestriction
          engine: *id001
          mode: allow
          name: phase_r
          phases: [day]
        - !TargetRestriction
          engine: *id001
          mode: allow
          name: ''
          target_types:
          - &id015 !Actor
            engine: *id001
            members: []
            name: ''
            status: {}
      name: Townie4
      status: {}
    name: Town
    status: {}
  - &id002 !MafiaAlignment
    engine: *id001
    members:
    - &id019 !Player
      engine: *id001
      members:
      - !VoteAbility
        engine: *id001
        name: vote
        restrictions:
        - !PhaseRestriction
          engine: *id001
          mode: allow
          name: phase_r
          phases: [day]
        - !TargetRestriction
          engine: *id001
          mode: allow
          name: ''
          target_types:
          - &id017 !Actor
            engine: *id001
            members: []
            name: ''
            status: {}
      - !MKillAbility
        engine: *id001
        name: mkill
        restrictions:
        - &id004 !MKillPhaseRestriction
          alignment: *id002
          engine: *id001
          mode: allow
          name: mkill_phase_r
          phases: [night]
          was_used: false
        - !TargetRestriction
          engine: *id001
          mode: allow
          name: ''
          target_types:
          - &id018 !Actor
            engine: *id001
            members: []
            name: ''
            status: {}
      name: Mafioso0
      status: {}
    - &id022 !Player
      engine: *id001
      members:
      - !VoteAbility
        engine: *id001
        name: vote
        restrictions:
        - !PhaseRestriction
          engine: *id001
          mode: allow
          name: phase_r
          phases: [day]
        - !TargetRestriction
          engine: *id001
          mode: allow
          name: ''
          target_types:
          - &id020 !Actor
            engine: *id001
            members: []
            name: ''
            status: {}
      - !MKillAbility
        engine: *id001
        name: mkill
        restrictions:
        - &id005 !MKillPhaseRestriction
          alignment: *id002
          engine: *id001
          mode: allow
          name: mkill_phase_r
          phases: [night]
          was_used: false
        - !TargetRestriction
          engine: *id001
          mode: allow
          name: ''
          target_types:
          - &id021 !Actor
            engine: *id001
            members: []
            name: ''
            status: {}
      name: Mafioso1
      status: {}
    name: Mafia
    status: {mkill_used: false}
  name: all_entities
  status: {}
event: !EventManager
  _listeners:
    ? !VoteEvent {actor: null, target: null}
    : - *id003
    ? !MKillEvent {actor: null, target: null}
    : - *id003
      - *id004
      - *id005
    ? !PhaseChangeEvent {current: null, previous: null}
    : - *id003
      - *id006
      - *id002
      - *id004
      - *id005
    ? !DeathEvent {target: null}
    : - *id003
      - *id007
      - *id008
      - *id009
      - *id010
      - *id011
      - *id012
      - *id013
      - *id014
      - *id015
      - *id016
      - *id017
      - *id018
      - *id019
      - *id020
      - *id021
      - *id022
      - !GameObject
        alignment: *id002
        eliminated: false
        engine: *id001
        name: mafia_checker
        output_event_type: !AlignmentEliminatedEvent {alignment: null}
      - !GameObject
        alignment: *id023
        eliminated: false
        engine: *id001
        name: town_checker
        output_event_type: !AlignmentEliminatedEvent {alignment: null}
    ? !AlignmentEliminatedEvent {alignment: null}
    : - *id003
  history: !HistoryManager {}
status: {phase: night}
